# 需求文档 - Blog CMS

## 项目概述

一个基于 Next.js + TypeScript + SQLite 的博客内容管理系统，用于发布和管理博客文章。无需用户认证系统。

## 技术栈

- **前端框架**: Next.js 14+ (App Router)
- **语言**: TypeScript
- **数据库**: SQLite (via better-sqlite3 或 Drizzle)
- **样式**: Tailwind CSS
- **ORM**: Drizzle ORM (轻量级，TypeScript 友好)

## Actors

| Actor | 描述 | 权限 |
|-------|------|------|
| 访客 | 网站访问者 | 浏览文章、搜索 |
| 管理员 | 内容管理者 | 创建/编辑/删除文章、管理分类 |

## Functional Requirements

### FR-001: 文章展示

- **描述**: 访客可以浏览博客文章
- **Actor**: 访客
- **Priority**: P1 (Must)
- **子功能**:
  - 文章列表页面（分页展示，每页 10 篇）
  - 文章详情页面（标题、内容、发布时间、分类）
  - Markdown 渲染（支持代码高亮）
  - 文章摘要自动生成（取前 200 字符）
  - 响应式布局（移动端/桌面端适配）
  - SEO 优化（meta tags、Open Graph）

### FR-002: 文章搜索

- **描述**: 访客可以搜索文章
- **Actor**: 访客
- **Priority**: P2 (Should)
- **子功能**:
  - 按标题关键词搜索
  - 按内容全文搜索
  - 搜索结果高亮显示
  - 搜索结果分页

### FR-003: 分类系统

- **描述**: 文章按分类组织
- **Actor**: 访客, 管理员
- **Priority**: P1 (Must)
- **子功能**:
  - 分类列表展示
  - 按分类筛选文章
  - 分类管理 CRUD（管理员）
  - 每篇文章可属于一个分类

### FR-004: 文章管理

- **描述**: 管理员可以管理文章
- **Actor**: 管理员
- **Priority**: P1 (Must)
- **子功能**:
  - 创建新文章（标题、内容、分类、状态）
  - 编辑已有文章
  - 删除文章（软删除）
  - 文章状态管理（草稿/已发布）
  - Markdown 编辑器（实时预览）
  - 自动保存草稿（每 30 秒）

### FR-005: 管理后台

- **描述**: 管理员操作界面
- **Actor**: 管理员
- **Priority**: P1 (Must)
- **子功能**:
  - 文章列表管理页面
  - 分类管理页面
  - 统计仪表盘（文章数量、分类数量）
  - 侧边栏导航

## Non-Functional Requirements

### NFR-001: 性能

- 首页加载时间 < 2 秒
- 文章页面 LCP < 1.5 秒
- 数据库查询响应 < 100ms

### NFR-002: 可用性

- 简洁直观的 UI
- 移动端友好
- 键盘导航支持

### NFR-003: 可维护性

- TypeScript 严格模式
- 组件化架构
- 清晰的目录结构

## Constraints

- 使用 SQLite 作为数据库（单文件，便于部署）
- 无需用户认证系统
- 管理后台通过 URL 路径访问（/admin/*）

## Assumptions

- 管理员通过直接访问 /admin 路径操作
- 文章内容使用 Markdown 格式
- 部署环境支持 Node.js 18+

## Out of Scope

- 用户注册/登录系统
- 评论功能
- 多语言支持
- 图片上传（使用外部图床链接）
- RSS 订阅

---

*文档版本: 1.0.0*
*创建时间: 2026-01-28*
